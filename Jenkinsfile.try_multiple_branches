// Repo:
CODE_GITHUB_ORG = 'jeff-zohrab'  // TODO - fix this
CODE_REPO_NAME = 'klick-genome-CI-stub'  // TODO - fix this

node('sensei_build') {

  create_dir("c:\\www")
  ws("c:\\www\\genome") {

    try {
      echo env.BRANCH_NAME
      
      currentBuild.result = 'SUCCESS'

    } // end try
    catch(err) {
      echo "Error: ${err}"
      currentBuild.result = 'FAILURE'
    }
    finally {
      cleanWs()
    }
  } // end ws()
}  // end node


def create_dir(dirname) {
  dir(dirname) {
    // Ref https://stackoverflow.com/questions/42654875/jenkins-pipeline-create-directory
    writeFile file: 'placeholder.txt', text: 'Dummy file to create directory.'
  }
  // Remove dummy file, leaving directory behind.
  bat "del ${dirname}\\placeholder.txt"
}
